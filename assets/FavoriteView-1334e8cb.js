import{_ as u,m as _,g as y,r as d,o as i,c as o,a as s,k as v,b as g,w as b,F as k,h as D,i as T,d as p,n as x,t as S}from"./index-fe76a8c9.js";import{d as f}from"./drinkStore-25e75ce2.js";import{S as L}from"./SearchTableMode-c53bbbd7.js";import{a as C}from"./icon-favorite-active-69e4f444.js";import"./wheel-nodrink-b3e69524.js";import"./RateDisplay-717d65ad.js";import"./FavoriteBtn-0d8ffca6.js";const F={data(){return{list:[],favoriteDrink:[],selectType:"全部飲品"}},components:{SearchTableMode:L},methods:{..._(f,["getDrinks"]),getFavoriteList(){let t=[];localStorage.favoriteList&&(t=JSON.parse(localStorage.favoriteList)),this.list=t},changeType(t){this.selectType=t}},computed:{...y(f,["drinks"]),favoriteDate(){this.getFavoriteList();const t=[];if(this.list.length)for(let e=0;e<this.list.length;e+=1){const r=this.drinks.filter(l=>l.id===this.list[e]);t.push(r[0])}return t},filterFavoriteDate(){let t=[];if(!this.favoriteDate.length)return[];if(this.selectType==="全部飲品")t=this.favoriteDate;else{const e=this.favoriteDate.filter(r=>r.type===this.selectType);e.length?t=e:(t=this.favoriteDate,this.changeType("全部飲品"))}return t},filterCustomType(){const t=[];return this.favoriteDate[0]&&(this.favoriteDate.forEach(e=>{t.indexOf(e.type)===-1&&t.push(e.type)}),t.unshift("全部飲品")),t}},created(){this.getDrinks()},mounted(){this.$emitter.on("favorite-reRender",()=>this.getFavoriteList())}},w={class:"container pt-20 pb-15"},N={class:"row"},V={class:"col-10 col-3xl-12 mx-auto"},A={class:"menu px-6 py-8 border border-3 border-secondary-600 rounded-4"},B=s("h2",{class:"fs-3 fw-bold d-flex align-items-center text-accent mb-6"},[s("img",{class:"me-2",src:C}),p(" 收藏清單")],-1),M={key:1,class:"py-4 d-flex flex-column align-items-center"},R=s("p",{class:"fs-4 fw-medium mb-4"},"尚無喜愛飲品",-1),E={key:2,class:"menu-list list-unstyled mb-0"},O=["onClick"];function z(t,e,r,l,c,a){const h=d("SearchTableMode"),m=d("RouterLink");return i(),o("div",w,[s("div",N,[s("div",V,[s("div",A,[B,a.favoriteDate.length?(i(),v(h,{key:0,propsData:a.filterFavoriteDate},null,8,["propsData"])):(i(),o("div",M,[R,g(m,{to:"/shops",class:"btn-custom btn-custom-primary-sm fs-6 fw-bold"},{default:b(()=>[p(" 來去逛逛 ")]),_:1})])),c.list.length?(i(),o("ul",E,[(i(!0),o(k,null,D(a.filterCustomType,n=>(i(),o("li",{key:`favoriteList ${n}`},[s("button",{type:"button",class:x(["menu-btn",{active:c.selectType===n}]),onClick:J=>a.changeType(n)},[s("span",null,S(n),1)],10,O)]))),128))])):T("",!0)])])])])}const P=u(F,[["render",z]]);export{P as default};
