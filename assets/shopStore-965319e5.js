import{y as h,z as i,A as n}from"./index-b93c5667.js";const r=h("shopStore",{state:()=>({shops:[{name:""}],singleShop:{drinks:[]},selectType:"全部飲品"}),actions:{getShops(){const e="https://what-to-drink-api-vercel.vercel.app/shops";i.get(e).then(t=>{this.shops=t.data}).catch(()=>{n.emit("push-message",{style:"danger",title:"取得資料失敗",content:"出現系統問題，請聯絡管理員，謝謝！"})})},getSingleShop(e){const t=`https://what-to-drink-api-vercel.vercel.app/shops?code=${e}&_embed=drinks&_embed=comments`;i.get(t).then(s=>{const[p]=s.data;this.singleShop=p})},getSearchShops(e){const t=`https://what-to-drink-api-vercel.vercel.app/shops?name_like=${e}`;i.get(t).then(s=>{this.shops=s.data}).catch(()=>{n.emit("push-message",{style:"danger",title:"取得資料失敗",content:"出現系統問題，請聯絡管理員，謝謝！"})})},changeType(e){this.selectType=e}},getters:{drinks(){return[...this.singleShop.drinks]},filterCustomType(){const e=[];return this.drinks.forEach(t=>{e.indexOf(t.type)===-1&&e.push(t.type)}),e.unshift("全部飲品"),e},filterMenu(){const e={};return this.selectType==="全部飲品"?this.drinks.forEach(t=>{if(!Object.prototype.hasOwnProperty.call(e,t.menuType)){const s=t.menuType;e[s]=this.drinks.filter(p=>p.menuType===s)}}):e[this.selectType]=this.drinks.filter(t=>t.type===this.selectType),e}}});export{r as s};
