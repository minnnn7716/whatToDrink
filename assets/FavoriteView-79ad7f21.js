import{_ as y,m as v,j as g,r as d,o,c as i,a as s,d as m,e as b,F as k,h as D,g as T,b as h,n as x,t as S}from"./index-26db4ad0.js";import{d as f}from"./drinkStore-7c19ff76.js";import{S as F}from"./SearchTableMode-84a1b9b1.js";import{a as p}from"./icon-favorite-active-69e4f444.js";import"./wheel-nodrink-cdfd1680.js";import"./RateDisplay-5b707604.js";import"./FavoriteBtn-eeec5992.js";const L={data(){return{list:[],favoriteDrink:[],selectType:"全部飲品"}},components:{SearchTableMode:F},methods:{...v(f,["getDrinks"]),getFavoriteList(){let t=[];localStorage.favoriteList&&(t=JSON.parse(localStorage.favoriteList)),this.list=t},changeType(t){this.selectType=t}},computed:{...g(f,["drinks"]),favoriteDate(){this.getFavoriteList();const t=[];if(this.drinks.length)for(let e=0;e<this.list.length;e+=1){const r=this.drinks.filter(l=>l.id===this.list[e]);t.push(r[0])}return t},filterFavoriteDate(){let t=[];if(!this.favoriteDate.length)return[];if(this.selectType==="全部飲品")t=this.favoriteDate;else{const e=this.favoriteDate.filter(r=>r.type===this.selectType);e.length?t=e:(t=this.favoriteDate,this.changeType("全部飲品"))}return t},filterCustomType(){const t=[];return this.favoriteDate[0]&&(this.favoriteDate.forEach(e=>{t.indexOf(e.type)===-1&&t.push(e.type)}),t.unshift("全部飲品")),t}},created(){this.getDrinks()},mounted(){this.$emitter.on("favorite-reRender",()=>this.getFavoriteList())}},C={class:"container pt-10 pt-md-20 pb-10 pb-md-15"},w={class:"row justify-content-center"},N={class:"col-12 col-md-10 col-3xl-12"},V={class:"menu px-2 px-md-6 py-4 py-md-10 border border-3 border-secondary-600 rounded-4"},A=s("h2",{class:"fs-4 fs-md-3 fw-bold d-flex align-items-center text-accent mb-6"},[s("img",{class:"d-none d-md-block me-2",src:p,alt:"愛心"}),s("img",{width:"28",class:"d-md-none me-2",src:p,alt:"愛心"}),h(" 收藏清單 ")],-1),B={key:0},M={key:1,class:"py-4 d-flex flex-column align-items-center"},R=s("p",{class:"fs-5 fs-md-4 fw-medium mb-4"},"尚無喜愛飲品",-1),j={key:2,class:"d-none d-md-block menu-list list-unstyled mb-0"},E=["onClick"];function O(t,e,r,l,c,a){const u=d("SearchTableMode"),_=d("RouterLink");return o(),i("div",C,[s("div",w,[s("div",N,[s("div",V,[A,a.filterFavoriteDate.length?(o(),i("div",B,[m(u,{propsData:a.filterFavoriteDate},null,8,["propsData"])])):(o(),i("div",M,[R,m(_,{to:"/shops",class:"btn-custom btn-custom-primary-sm fs-normal1 fs-md-6 fw-bold"},{default:b(()=>[h(" 來去逛逛 ")]),_:1})])),c.list.length?(o(),i("ul",j,[(o(!0),i(k,null,D(a.filterCustomType,n=>(o(),i("li",{key:`favoriteList ${n}`},[s("button",{type:"button",class:x(["menu-btn",{active:c.selectType===n}]),onClick:z=>a.changeType(n)},[s("span",null,S(n),1)],10,E)]))),128))])):T("",!0)])])])])}const P=y(L,[["render",O]]);export{P as default};
