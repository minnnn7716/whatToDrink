import{y as n,z as h}from"./index-4f588ba5.js";const i=n("shopStore",{state:()=>({shops:[{name:""}],singleShop:{drinks:[]},selectType:"全部飲品"}),actions:{getShops(){const e="http://localhost:3000/shops";h.get(e).then(t=>{console.log(t),this.shops=t.data}).catch(t=>{console.log(t)})},getSingleShop(e){const t=`http://localhost:3000/shops?code=${e}&_embed=drinks&_embed=comments`;h.get(t).then(s=>{const[o]=s.data;this.singleShop=o})},getSearchShops(e){const t=`http://localhost:3000/shops?name_like=${e}`;h.get(t).then(s=>{console.log(s),this.shops=s.data}).catch(s=>{console.log(s)})},changeType(e){this.selectType=e}},getters:{drinks(){return[...this.singleShop.drinks]},filterCustomType(){const e=[];return this.drinks.forEach(t=>{e.indexOf(t.type)===-1&&e.push(t.type)}),e.unshift("全部飲品"),e},filterMenu(){const e={};return this.selectType==="全部飲品"?this.drinks.forEach(t=>{if(!Object.prototype.hasOwnProperty.call(e,t.menuType)){const s=t.menuType;e[s]=this.drinks.filter(o=>o.menuType===s)}}):e[this.selectType]=this.drinks.filter(t=>t.type===this.selectType),e}}});export{i as s};
